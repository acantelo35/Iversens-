import csv
import os

INVENTORY_FILE = 'bakery_inventory.csv'

def load_inventory():
    inventory = {}
    if os.path.exists(INVENTORY_FILE):
        with open(INVENTORY_FILE, mode='r') as file:
            reader = csv.reader(file)
            for row in reader:
                item, quantity = row
                inventory[item] = int(quantity)
    return inventory

def save_inventory(inventory):
    with open(INVENTORY_FILE, mode='w', newline='') as file:
        writer = csv.writer(file)
        for item, quantity in inventory.items():
            writer.writerow([item, quantity])

def add_item(inventory):
    item = input("Enter new item name: ")
    quantity = int(input("Enter quantity: "))
    inventory[item] = inventory.get(item, 0) + quantity

def remove_item(inventory):
    item = input("Enter item to remove: ")
    quantity = int(input("Enter quantity sold: "))
    if item in inventory:
        inventory[item] = max(0, inventory[item] - quantity)

def display_inventory(inventory):
    print("\nCurrent Inventory:")
    for item, quantity in inventory.items():
        print(f"{item}: {quantity}")

def main():
    inventory = load_inventory()
    while True:
        print("\n--- Bakery Inventory Tracker ---")
        print("1. View Inventory")
        print("2. Add Stock")
        print("3. Record Sale")
        print("4. Exit")
        choice = input("Choose an option: ")
        if choice == '1':
            display_inventory(inventory)
        elif choice == '2':
            add_item(inventory)
        elif choice == '3':
            remove_item(inventory)
        elif choice == '4':
            save_inventory(inventory)
            print("Inventory saved. Goodbye!")
            break
        else:
            print("Invalid choice. Try again.")

if __name__ == "__main__":
    main()
